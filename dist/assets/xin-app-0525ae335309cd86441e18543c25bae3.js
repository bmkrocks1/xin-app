"use strict";define("xin-app/adapters/application",["exports","ember-localstorage-adapter"],function(e,t){e.default=t.default.extend({namespace:"xin-board-cards"})}),define("xin-app/adapters/ls-adapter",["exports","ember-localstorage-adapter/adapters/ls-adapter"],function(e,t){e.default=t.default}),define("xin-app/app",["exports","ember","xin-app/resolver","ember-load-initializers","xin-app/config/environment"],function(e,t,n,a,l){var o=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,o=t.default.Application.extend({modulePrefix:l.default.modulePrefix,podModulePrefix:l.default.podModulePrefix,Resolver:n.default}),(0,a.default)(o,l.default.modulePrefix),e.default=o}),define("xin-app/components/card-colors",["exports","ember","xin-app/mixins/document-click"],function(e,t,n){e.default=t.default.Component.extend(n.default,{tagName:"ul",classNames:["card-colors","dropdown-menu"],colors:["white","blue","green","yellow","red"],actions:{onColorSelect:function(e){var t=this.$();this.get("updateCardColor")(t.parent().attr("id"),e)}},onDocumentClick:function(){this.$().closest(".card").removeClass("open-colors")}})}),define("xin-app/components/cards-container",["exports","ember"],function(e,t){e.default=t.default.Component.extend({classNames:["cards-container"],cardsOrder:["order:asc"],orderedCards:t.default.computed.sort("cards","cardsOrder"),initSortable:function(){var e=this;$(this.$()).sortable({containment:".columns-container",items:".card.ui-draggable",update:function(t,n){var a=n.item,l=$(".dragging-from"),o=l.attr("id"),r=a.parent(),i=r.attr("id");l.removeClass("dragging-from"),a.removeClass("open-colors"),a.css({left:"",top:"",width:"",height:""}),a.find(".color-chooser").attr("data-placement",r.is("#done")?"left":"right");var s={};s[o]=$.map(l.find(".card"),function(e){return e.id}),s[i]=$.map(r.find(".card"),function(e){return e.id}),e.reorderCards(s,a.attr("id")),o!==i&&a.remove()}})}.on("didInsertElement")})}),define("xin-app/components/story-card",["exports","ember","xin-app/mixins/document-click","xin-app/mixins/window-resize"],function(e,t,n,a){e.default=t.default.Component.extend(n.default,a.default,{classNameBindings:[":card","card.color"],actions:{onInput:function(e){this.updateScrollHeight.call(e.target)},onKeyPress:function(e){13===e.which&&$(e.target).blur()},onBlur:function(e){var t=this.$();t.removeClass("is-editing"),this.get("updateCardTitle")(t.attr("id"),e.target.value)},onColorChooserClick:function(e){e.stopPropagation();var t=this.$();if($(".open-colors").not(t).removeClass("open-colors"),t.hasClass("open-colors"))return void t.removeClass("open-colors");var n,a=t.find(".card-colors"),l=t.find(".color-chooser"),o=18;"left"===l.attr("data-placement")?(a.addClass("placement-left"),n=a.parent().width()-a.width()+6):(a.removeClass("placement-left"),n=a.parent().width()-25),a.css({top:o+"px",left:n+"px"}),t.addClass("open-colors")},onRemoveClick:function(){this.get("removeCard")(this.$().attr("id"))},updateCardColor:function(e,t){this.get("updateCardColor")(e,t)}},updateScrollHeight:function(){if(this.scrollHeight>30){var e=$(this);e.height(""),e.height(Math.min(this.scrollHeight,200)+"px")}},onWindowResize:function(){$(".card-title").each(this.updateScrollHeight)},didInsertElement:function(){var e=this.$();e.click(function(t){t.stopPropagation(),e.removeClass("open-colors");var n=$(t.target);n.is(".card-title")&&e.addClass("is-editing")}),e.find(".color-chooser").attr("data-placement",e.parent().is("#done")?"left":"right"),this.updateScrollHeight.call(e.find(".card-title")[0]),$(this.$()).draggable({containment:".columns-container",connectToSortable:".cards-container",revert:"invalid",zIndex:100,opacity:.95,start:function(){$(".open-colors").removeClass("open-colors"),e.parent().addClass("dragging-from"),$(".cards-container").not(e.parent()).append('<div class="card-drop-placeholder"></div>'),$(".card-drop-placeholder").css({height:e.height()}).droppable({accept:".card",tolerance:"intersect",over:function(){$(this).css({borderColor:e.css("borderColor"),background:"#eee"})},out:function(){$(this).css({borderColor:"",background:""})}})},stop:function(){$(".card-drop-placeholder").remove()}})}})}),define("xin-app/controllers/board",["exports","ember","xin-app/mixins/window-resize"],function(e,t,n){e.default=t.default.Controller.extend(n.default,{backlog:[],inProgress:[],done:[],actions:{newCard:function(){var e=this.get("backlog").get("length"),t=this.get("store").createRecord("card",{title:"Story #"+(e+1),order:e});t.save(),this.get("backlog").pushObject(t)},updateCardTitle:function(e,t){this.get("store").findRecord("card",e).then(function(e){e.set("title",t),e.save()})},updateCardColor:function(e,t){this.get("store").findRecord("card",e).then(function(e){e.set("color",t),e.save()})},reorderCards:function(e){var t=this,n=e.backlog,a=e["in-progress"],l=e.done;n&&(this.set("backlog",[]),n.forEach(function(e,n){t.get("store").findRecord("card",e).then(function(e){e.set("status","backlog"),e.set("order",n),e.save(),t.get("backlog").pushObject(e)})})),a&&(this.set("inProgress",[]),a.forEach(function(e,n){t.get("store").findRecord("card",e).then(function(e){e.set("status","in-progress"),e.set("order",n),e.save(),t.get("inProgress").pushObject(e)})})),l&&(this.set("done",[]),l.forEach(function(e,n){t.get("store").findRecord("card",e).then(function(e){e.set("status","done"),e.set("order",n),e.save(),t.get("done").pushObject(e)})}))},removeCard:function(e){var t=this;this.get("store").findRecord("card",e).then(function(e){var n=e.get("status");t.get("in-progress"===n?"inProgress":n).removeObject(e),e.destroyRecord()})},clear:function(){localStorage.clear(),this.set("backlog",[]),this.set("inProgress",[]),this.set("done",[])}},onWindowResize:function(){var e=$("body").height()-115;$(".columns-container").height(e+"px")},init:function(){var e=this;this.get("store").query("card",{status:"backlog"}).then(function(t){e.set("backlog",t.toArray())}),this.get("store").query("card",{status:"in-progress"}).then(function(t){e.set("inProgress",t.toArray())}),this.get("store").query("card",{status:"done"}).then(function(t){e.set("done",t.toArray())}),document.title="Xin | Board",$(document).ready(function(){e.onWindowResize()})}})}),define("xin-app/helpers/app-version",["exports","ember","xin-app/config/environment"],function(e,t,n){function a(){return l}e.appVersion=a;var l=n.default.APP.version;e.default=t.default.Helper.helper(a)}),define("xin-app/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("xin-app/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("xin-app/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","xin-app/config/environment"],function(e,t,n){var a=n.default.APP,l=a.name,o=a.version;e.default={name:"App Version",initialize:(0,t.default)(l,o)}}),define("xin-app/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("xin-app/initializers/data-adapter",["exports","ember"],function(e,t){e.default={name:"data-adapter",before:"store",initialize:function(){}}}),define("xin-app/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,n){e.default={name:"ember-data",initialize:t.default}}),define("xin-app/initializers/export-application-global",["exports","ember","xin-app/config/environment"],function(e,t,n){function a(){var e=arguments[1]||arguments[0];if(n.default.exportApplicationGlobal!==!1){var a;if("undefined"!=typeof window)a=window;else if("undefined"!=typeof global)a=global;else{if("undefined"==typeof self)return;a=self}var l,o=n.default.exportApplicationGlobal;l="string"==typeof o?o:t.default.String.classify(n.default.modulePrefix),a[l]||(a[l]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete a[l]}}))}}e.initialize=a,e.default={name:"export-application-global",initialize:a}}),define("xin-app/initializers/injectStore",["exports","ember"],function(e,t){e.default={name:"injectStore",before:"store",initialize:function(){}}}),define("xin-app/initializers/store",["exports","ember"],function(e,t){e.default={name:"store",after:"ember-data",initialize:function(){}}}),define("xin-app/initializers/transforms",["exports","ember"],function(e,t){e.default={name:"transforms",before:"store",initialize:function(){}}}),define("xin-app/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("xin-app/mixins/document-click",["exports","ember"],function(e,t){e.default=t.default.Mixin.create({onDocumentClick:t.default.K,setupListener:t.default.on("init",function(){return $(document).on("click",$.proxy(this.get("onDocumentClick"),this))}),removeListener:t.default.on("willDestroyElement",function(){return $(document).off("click",$.proxy(this.get("onDocumentClick"),this))})})}),define("xin-app/mixins/window-resize",["exports","ember"],function(e,t){e.default=t.default.Mixin.create({onWindowResize:t.default.K,setupListener:t.default.on("init",function(){return $(window).on("resize",$.proxy(this.get("onWindowResize"),this))}),removeListener:t.default.on("willDestroyElement",function(){return $(window).off("resize",$.proxy(this.get("onWindowResize"),this))})})}),define("xin-app/models/card",["exports","ember-data"],function(e,t){var n=t.default.Model.extend({title:t.default.attr("string"),color:t.default.attr("string",{defaultValue:"white"}),status:t.default.attr("string",{defaultValue:"backlog"}),order:t.default.attr("number")});e.default=n}),define("xin-app/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("xin-app/router",["exports","ember","xin-app/config/environment"],function(e,t,n){var a=t.default.Router.extend({location:n.default.locationType,rootURL:n.default.rootURL});a.map(function(){this.route("board")}),e.default=a}),define("xin-app/routes/board",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){return this.get("store").findAll("card")}})}),define("xin-app/routes/index",["exports","ember"],function(e,t){e.default=t.default.Route.extend({})}),define("xin-app/serializers/application",["exports","ember-localstorage-adapter"],function(e,t){e.default=t.LSSerializer.extend()}),define("xin-app/serializers/ls-serializer",["exports","ember-localstorage-adapter/serializers/ls-serializer"],function(e,t){e.default=t.default}),define("xin-app/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("xin-app/templates/application",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"fVSetiIJ",block:'{"statements":[["append",["unknown",["outlet"]],false]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"xin-app/templates/application.hbs"}})}),define("xin-app/templates/board",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"PBqgOwR4",block:'{"statements":[["open-element","header",[]],["flush-element"],["text","\\n    "],["open-element","div",[]],["static-attr","class","container-fluid"],["flush-element"],["text","\\n        "],["open-element","div",[]],["static-attr","class","row sub-header"],["flush-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-12 sub-header-wrap"],["flush-element"],["text","\\n                "],["open-element","h1",[]],["flush-element"],["text","Xin Board"],["close-element"],["text","\\n                "],["open-element","button",[]],["static-attr","class","btn btn-primary btn-sm"],["static-attr","type","button"],["static-attr","title","Add a new card"],["modifier",["action"],[["get",[null]],"newCard"]],["flush-element"],["text","New Card"],["close-element"],["text","\\n                "],["open-element","button",[]],["static-attr","class","btn btn-default btn-sm pull-right"],["static-attr","type","button"],["static-attr","title","Remove all cards"],["modifier",["action"],[["get",[null]],"clear"]],["flush-element"],["text","Clear"],["close-element"],["text","\\n            "],["close-element"],["text","\\n        "],["close-element"],["text","\\n    "],["close-element"],["text","\\n"],["close-element"],["text","\\n\\n"],["open-element","section",[]],["static-attr","id","board"],["flush-element"],["text","\\n    "],["open-element","div",[]],["static-attr","class","container-fluid"],["flush-element"],["text","\\n\\n        "],["comment"," Column Header "],["text","\\n        "],["open-element","div",[]],["static-attr","class","row column-header"],["flush-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["open-element","h2",[]],["flush-element"],["text","Backlog"],["close-element"],["close-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["open-element","h2",[]],["flush-element"],["text","In Progress"],["close-element"],["close-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["open-element","h2",[]],["flush-element"],["text","Done"],["close-element"],["close-element"],["text","\\n        "],["close-element"],["text","\\n\\n        "],["comment"," Columns "],["text","\\n        "],["open-element","div",[]],["static-attr","class","row columns-container"],["flush-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["text","\\n"],["block",["cards-container"],null,[["id","reorderCards","cards"],["backlog",["helper",["action"],[["get",[null]],"reorderCards"],null],["get",["backlog"]]]],2],["text","            "],["close-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["text","\\n"],["block",["cards-container"],null,[["id","reorderCards","cards"],["in-progress",["helper",["action"],[["get",[null]],"reorderCards"],null],["get",["inProgress"]]]],1],["text","            "],["close-element"],["text","\\n            "],["open-element","div",[]],["static-attr","class","col-xs-4"],["flush-element"],["text","\\n"],["block",["cards-container"],null,[["id","reorderCards","cards"],["done",["helper",["action"],[["get",[null]],"reorderCards"],null],["get",["done"]]]],0],["text","            "],["close-element"],["text","\\n        "],["close-element"],["text","\\n    "],["close-element"],["text","\\n"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","                "],["append",["helper",["story-card"],null,[["card","id","updateCardTitle","updateCardColor","removeCard"],[["get",["card"]],["get",["card","id"]],["helper",["action"],[["get",[null]],"updateCardTitle"],null],["helper",["action"],[["get",[null]],"updateCardColor"],null],["helper",["action"],[["get",[null]],"removeCard"],null]]]],false],["text","\\n"]],"locals":["card"]},{"statements":[["text","                "],["append",["helper",["story-card"],null,[["card","id","updateCardTitle","updateCardColor","removeCard"],[["get",["card"]],["get",["card","id"]],["helper",["action"],[["get",[null]],"updateCardTitle"],null],["helper",["action"],[["get",[null]],"updateCardColor"],null],["helper",["action"],[["get",[null]],"removeCard"],null]]]],false],["text","\\n"]],"locals":["card"]},{"statements":[["text","                "],["append",["helper",["story-card"],null,[["card","id","updateCardTitle","updateCardColor","removeCard"],[["get",["card"]],["get",["card","id"]],["helper",["action"],[["get",[null]],"updateCardTitle"],null],["helper",["action"],[["get",[null]],"updateCardColor"],null],["helper",["action"],[["get",[null]],"removeCard"],null]]]],false],["text","\\n"]],"locals":["card"]}],"hasPartials":false}',meta:{moduleName:"xin-app/templates/board.hbs"}})}),define("xin-app/templates/components/card-colors",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"LTouy3mq",block:'{"statements":[["open-element","li",[]],["flush-element"],["text","\\n    "],["open-element","span",[]],["flush-element"],["text","Change color:"],["close-element"],["text","\\n"],["close-element"],["text","\\n"],["block",["each"],[["get",["colors"]]],null,0]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","    "],["open-element","li",[]],["flush-element"],["text","\\n        "],["open-element","a",[]],["dynamic-attr","onclick",["helper",["action"],[["get",[null]],"onColorSelect",["get",["color"]]],null],null],["flush-element"],["open-element","div",[]],["dynamic-attr","class",["concat",["cc ",["get",["color"]]]]],["flush-element"],["close-element"],["append",["get",["color"]],false],["close-element"],["text","\\n    "],["close-element"],["text","\\n"]],"locals":["color"]}],"hasPartials":false}',meta:{moduleName:"xin-app/templates/components/card-colors.hbs"}})}),define("xin-app/templates/components/cards-container",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"VP8jhkV/",block:'{"statements":[["block",["each"],[["get",["orderedCards"]]],[["key"],["id"]],0]],"locals":[],"named":[],"yields":["default"],"blocks":[{"statements":[["text","  "],["yield","default",[["get",["card"]]]],["text","\\n"]],"locals":["card"]}],"hasPartials":false}',meta:{moduleName:"xin-app/templates/components/cards-container.hbs"}})}),define("xin-app/templates/components/story-card",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"yZmy4D8R",block:'{"statements":[["open-element","span",[]],["static-attr","class","card-actions"],["flush-element"],["text","\\n  "],["open-element","button",[]],["static-attr","type","button"],["static-attr","class","color-chooser"],["static-attr","title","Change color"],["dynamic-attr","onclick",["helper",["action"],[["get",[null]],"onColorChooserClick"],null],null],["flush-element"],["text","a"],["close-element"],["text","\\n  "],["open-element","button",[]],["static-attr","type","button"],["static-attr","class","close"],["static-attr","title","Remove this card"],["dynamic-attr","onclick",["helper",["action"],[["get",[null]],"onRemoveClick"],null],null],["flush-element"],["text","\\n      "],["open-element","span",[]],["static-attr","aria-hidden","true"],["flush-element"],["text","Ã—"],["close-element"],["text","\\n  "],["close-element"],["text","\\n"],["close-element"],["text","\\n"],["append",["helper",["card-colors"],null,[["updateCardColor"],[["helper",["action"],[["get",[null]],"updateCardColor"],null]]]],false],["text","\\n"],["open-element","textarea",[]],["static-attr","spellcheck","false"],["static-attr","class","card-title"],["dynamic-attr","oninput",["helper",["action"],[["get",[null]],"onInput"],null],null],["dynamic-attr","onkeypress",["helper",["action"],[["get",[null]],"onKeyPress"],null],null],["dynamic-attr","onblur",["helper",["action"],[["get",[null]],"onBlur"],null],null],["dynamic-attr","value",["concat",[["unknown",["card","title"]]]]],["flush-element"],["text","\\n"],["close-element"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"xin-app/templates/components/story-card.hbs"}})}),define("xin-app/templates/index",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"hNm91jjF",block:'{"statements":[["open-element","div",[]],["static-attr","class","container"],["flush-element"],["text","\\n  "],["open-element","div",[]],["static-attr","class","jumbotron"],["flush-element"],["text","\\n      "],["open-element","h1",[]],["flush-element"],["text","Xin"],["close-element"],["text","\\n      "],["open-element","p",[]],["flush-element"],["text","A sample Ember.js application with drag and drop."],["close-element"],["text","\\n      "],["open-element","p",[]],["flush-element"],["block",["link-to"],["board"],[["classNames"],["btn btn-primary btn-lg"]],0],["close-element"],["text","\\n  "],["close-element"],["text","\\n"],["close-element"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","Start App"]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"xin-app/templates/index.hbs"}})}),define("xin-app/config/environment",["ember"],function(e){var t="xin-app";try{var n=t+"/config/environment",a=document.querySelector('meta[name="'+n+'"]').getAttribute("content"),l=JSON.parse(unescape(a)),o={default:l};return Object.defineProperty(o,"__esModule",{value:!0}),o}catch(e){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests||require("xin-app/app").default.create({name:"xin-app",version:"0.0.0+a501fbeb"});